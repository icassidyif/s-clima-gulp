"use strict";function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var e,t;e=function(e){var t,n;!0===e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp"),t=document.querySelectorAll(".ibg"),n=document.querySelector("body").classList.contains("webp"),t.forEach(function(e){e.querySelector("img")&&(e.style.backgroundImage=n?"url("+e.querySelector("source").getAttribute("srcset")+")":"url("+e.querySelector("img").getAttribute("src")+")")})},(t=new Image).onload=t.onerror=function(){e(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";function n(e,t){fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){"true"===e?($.magnificPopup.open({items:{src:$("#alert-success-send"),type:"inline"},modal:!0}),$(document).on("click",".popup-modal-dismiss",function(e){e.preventDefault(),$.magnificPopup.close()})):($.magnificPopup.open({items:{src:$("#alert-error-send"),type:"inline"},modal:!0}),$(document).on("click",".popup-modal-dismiss",function(e){e.preventDefault(),$.magnificPopup.close()}))}).catch(function(e){console.error(e)})}var a=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"грн";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.products=e,this.currency=t}var e,t,a;return e=n,(t=[{key:"productCountChange",value:function(e,t){this.products[e].count=t}},{key:"productPlus",value:function(e){this.products[e].count?this.products[e].count++:this.products[e].count=1}},{key:"productMinus",value:function(e){this.products[e].count?2<=this.products[e].count&&this.products[e].count--:this.products[e].count=1}},{key:"productRemove",value:function(e){delete this.products[e]}},{key:"getTotal",value:function(){var e=0;for(var t in this.products)e+=(this.products[t].count||1)*this.products[t].price;return e}},{key:"buildRemoveBtn",value:function(e){var t=document.createElement("div");return t.classList.add("cart__remove"),t.setAttribute("data-id",e),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16px" fill="none" viewBox="0 0 17 17" id="remove-cart-item"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.5 9.914l-6.793 6.793-1.414-1.414L7.086 8.5.293 1.707 1.707.293 8.5 7.086 15.293.293l1.414 1.414L9.914 8.5l6.793 6.793-1.414 1.414L8.5 9.914z" fill="#D11586" fill-opacity=".5"></path></svg>',t}},{key:"buildCartItem",value:function(e,t,n){var a=document.createElement("div");a.classList.add("cart__item"),a.classList.add("cart__item_".concat(t)),a.classList.add("cart__row");var i=document.createElement("h6");i.classList.add("cart__name"),i.innerHTML=e.title;var r=document.createElement("div");r.classList.add("cart__photo"),r.dataset.da="cart__item_".concat(t,",1,576,min");var o=document.createElement("img");o.setAttribute("src",e.image),r.appendChild(o);var s=document.createElement("div");s.classList.add("cart__control");var c=document.createElement("div");c.classList.add("cart__minus"),c.setAttribute("data-id",n);var l=document.createElement("div");l.classList.add("input-field"),l.classList.add("inline");var d=document.createElement("input");d.classList.add("validate"),d.classList.add("count-product"),d.setAttribute("data-id",n),d.setAttribute("type","number"),d.setAttribute("step","1"),d.setAttribute("min","0"),d.value=e.count,l.appendChild(d);var u=document.createElement("div");u.classList.add("cart__plus"),u.setAttribute("data-id",n),s.appendChild(c),s.appendChild(l),s.appendChild(u);var p=document.createElement("div");p.classList.add("cart__price");var m=document.createElement("span");return m.innerHTML=e.price*e.count+" "+this.currency,p.appendChild(m),a.appendChild(this.buildRemoveBtn(n)),a.appendChild(i),a.appendChild(r),a.appendChild(s),a.appendChild(p),a}},{key:"buildTotal",value:function(){var e=document.createElement("div");e.classList.add("cart__total");var t=document.createElement("span");return t.innerHTML="Разом: ".concat(this.getTotal()," ").concat(this.currency),e.appendChild(t),e}},{key:"render",value:function(){var e=document.createElement("div");if(e.classList.add("cart__content"),0===Object.keys(this.products).length&&this.products.constructor===Object){var t=document.createElement("span");return t.innerHTML="В корзині немає товарів!",e.appendChild(t),e}var n=0;for(var a in this.products){var i=this.products[a];n++;var r=this.buildCartItem(i,n,a);e.appendChild(r)}return e.appendChild(this.buildTotal()),e}}])&&i(e.prototype,t),a&&i(e,a),n}(),r=document.querySelector(".burger-menu"),y=document.querySelector("body"),o=document.querySelector(".menu-main");function s(e,t,n){e.classList.contains("closed")?(e.classList.remove("closed"),t.style.maxHeight=n+"px"):(e.classList.add("closed"),t.style.maxHeight="0px")}null!=r&&r.addEventListener("click",function(){r.classList.toggle("active"),o.classList.toggle("active"),y.classList.toggle("lock")});var c=document.querySelectorAll(".menu-main ul li a:not(:only-child)");function l(){var e=document.querySelector(".header-main");50<pageYOffset?e.classList.contains("header-main_scroll")||e.classList.add("header-main_scroll"):e.classList.contains("header-main_scroll")&&e.classList.remove("header-main_scroll")}c.forEach(function(e){var t=e.parentElement.querySelector("ul"),n=t.clientHeight,a=e.parentElement;a.classList.add("has-submenu"),s(a,t,n),e.addEventListener("click",function(e){e.preventDefault(),s(a,t,n)})}),window.addEventListener("scroll",function(e){l(),80<pageYOffset?c.forEach(function(e){e.parentElement.querySelector("ul").classList.add("change-bg")}):c.forEach(function(e){e.parentElement.querySelector("ul").classList.remove("change-bg")})}),l();var d,u;new SmoothScroll('a[href*="#"]',{header:"[data-scroll-header]",speed:500,topOnEmptyHash:!0,clip:!0,easing:"easeInOutCubic",updateURL:!0,popstate:!0});document.querySelector(".parallax-main")&&(d=document.querySelector(".parallax-main"),u=d.querySelectorAll(".parallax-main__layer"),d.addEventListener("mousemove",function(n){u.forEach(function(e){var t=e.getAttribute("data-speed");e.style.transform="translate(".concat(n.clientX*t/1e3,"px, ").concat(n.clientY*t/1300,"px )")})})),document.querySelectorAll(".parallax")&&document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".parallax");M.Parallax.init(e)}),$(document).ready(function(){$(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Завантаження фото #%curr%...",mainClass:"mfp-fade",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'},removalDelay:300}),$(".popup-with-move-anim").magnificPopup({type:"inline",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-slide-bottom",showCloseBtn:!0,closeBtnInside:!0}),$(".my-custom-close").click(function(){$.magnificPopup.close()})}),$("#phone").mask("+38 (999) 999-99-99"),$.validator.addMethod("customphone",function(e,t){return this.optional(t)||/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/.test(e)},"Please enter a valid phone number"),$("#gardenForm").validate({rules:{parentName:{required:!0,minlength:2},parentSurname:{required:!0,minlength:2},phone:{required:!0,customphone:!0},childName:{required:!0,minlength:2},childSurname:{required:!0,minlength:2},age:{required:!0,number:!0}},messages:{parentName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},parentSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},phone:{required:"Це обов'язкове поле",customphone:"Невірний номер телефону"},childName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},childSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},age:{required:"Це обов'язкове поле",number:"Введіть число"}},submitHandler:function(e){$.magnificPopup.close();var t=$(e).serializeArray();n(t,"/php/garden.php"),e.reset()}}),$("#campForm").validate({rules:{parentName:{required:!0,minlength:2},parentSurname:{required:!0,minlength:2},phone:{required:!0,customphone:!0},childName:{required:!0,minlength:2},childSurname:{required:!0,minlength:2},age:{required:!0,number:!0}},messages:{parentName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},parentSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},phone:{required:"Це обов'язкове поле",customphone:"Невірний номер телефону"},childName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},childSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},age:{required:"Це обов'язкове поле",number:"Введіть число"}},submitHandler:function(e){$.magnificPopup.close();var t=$(e).serializeArray();n(t,"/php/camp.php"),e.reset()}}),$("#languagesForm").validate({rules:{parentName:{required:!0,minlength:2},parentSurname:{required:!0,minlength:2},phone:{required:!0,customphone:!0},childName:{required:!0,minlength:2},childSurname:{required:!0,minlength:2},age:{required:!0,number:!0}},messages:{parentName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},parentSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},phone:{required:"Це обов'язкове поле",customphone:"Невірний номер телефону"},childName:{required:"Це обов'язкове поле",minlength:"Надто коротке ім'я"},childSurname:{required:"Це обов'язкове поле",minlength:"Надто коротке прізвище"},age:{required:"Це обов'язкове поле",number:"Введіть число"}},submitHandler:function(e){$.magnificPopup.close();var t=$(e).serializeArray();n(t,"/php/languages.php"),e.reset()}}),$(document).ready(function(){$(".slider-comments").slick({arrows:!0,dots:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{}},{breakpoint:768,settings:{}},{breakpoint:576,settings:{}}]}),$(".slider-banners").slick({arrows:!0,dots:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{}},{breakpoint:768,settings:{}},{breakpoint:576,settings:{}}]}),$(".slider-works").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:3,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}},{breakpoint:576,settings:{slidesToShow:1}}]}),$(".slider-articles").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:3,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}},{breakpoint:576,settings:{slidesToShow:1}}]}).on("setPosition",function(){$(this).find(".slick-slide").height("auto");var e=$(this).find(".slick-track"),t=$(e).height();$(this).find(".slick-slide").css("height",t+"px")}),$(".slider-achive").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:4,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:1}}]}).on("setPosition",function(){$(this).find(".slick-slide").height("auto");var e=$(this).find(".slick-track"),t=$(e).height();$(this).find(".slick-slide").css("height",t+"px")}),$(".slider-partners").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:6,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:5}},{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]}),$(".slider-card-product").slick({arrows:!1,dots:!1,adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand"})});var p=document.querySelector(".cart__out"),m={},h=new a(m=JSON.parse(localStorage.getItem("cart"))||{});function g(){localStorage.setItem("cart",JSON.stringify(m))}function v(){p.innerHTML="",p.append(h.render())}v();var f=document.querySelector(".products");f&&f.addEventListener("click",function(e){e.target.closest(".cart-product")&&(function(e){var t=e.querySelector(".cart-product").getAttribute("data-id"),n=e.querySelector(".card-product__title").innerHTML,a=e.querySelector("a").getAttribute("href"),i=parseInt(e.querySelector(".card-product__price").innerHTML);m[t]?m[t].count++:m[t]={title:n,image:a,price:i,count:1};g(),v()}(e.target.closest(".cart-product").closest(".card-product")),M.toast({html:"Товар додано в корзину"}))}),p.addEventListener("click",function(e){e.target.closest(".cart__remove")&&(h.productRemove(e.target.closest(".cart__remove").dataset.id),m=h.products,g(),v()),e.target.classList.contains("cart__plus")&&(h.productPlus(e.target.dataset.id),m=h.products,g(),v()),e.target.classList.contains("cart__minus")&&(h.productMinus(e.target.dataset.id),m=h.products,g(),v())}),p.addEventListener("change",function(e){e.target.classList.contains("count-product")&&(h.productCountChange(e.target.dataset.id,e.target.value),m=h.products,g(),v())}),document.addEventListener("DOMContentLoaded",function(){var e="ontouchstart"in window||navigator.msMaxTouchPoints;console.log(e);var t,n=document.querySelectorAll(".anim-item");0<n.length&&(t=function(){n.forEach(function(e){var t,n,a=e.offsetHeight,i=(t=e.getBoundingClientRect(),window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,[t.top+n,t.left][0]),r=a>window.innerHeight?window.innerHeight-window.innerHeight/4:window.innerHeight-a/4,o=getComputedStyle(e),s=new WebKitCSSMatrix(o.webkitTransform).m42;0!==s&&(i+=-s),pageYOffset>i-r&&pageYOffset<i+a?e.classList.add("active"):e.classList.contains("anim-no-hide")||e.classList.remove("active")})},window.addEventListener("scroll",t),setTimeout(function(){t()},300));var a=document.createElement("span"),i='<a href="#">S-Clima</a> © 2019 - '.concat((new Date).getFullYear(),"р.");a.innerHTML=i,$(".copyright__main").append(a),$(".copyright__develop").append('Розроблено студією <a target="_blank" href="https://dwave.space/"> d-wave </a>');var r,o,s,c,l,d,u,p,m,h,g=document.querySelectorAll("select"),v=(M.FormSelect.init(g),document.querySelectorAll(".modal"));M.Modal.init(v,{dismissible:!0,opacity:.4,startingTop:"-10%",endingTop:"5%",inDuration:350,outDuration:350});function f(e){return{moreBlock:e.querySelector(".card-product__rest"),expandBtn:e.querySelector(".card-product__more"),wrapper:e.querySelector(".card-product__wrapper"),column:e.parentElement.parentElement}}document.getElementById("price-range")&&(r=document.getElementById("price-range"),noUiSlider.create(r,{start:[20,80],connect:!0,step:1,range:{min:0,max:100},format:wNumb({decimals:0})}),o=document.getElementById("price-from"),s=document.querySelector("#price-from + label"),c=document.getElementById("price-to"),l=document.querySelector("#price-to + label"),r.noUiSlider.on("update",function(e,t){var n=e[t];t?(c.value=n,l.classList.add("active")):(o.value=n,s.classList.add("active"))}),c.addEventListener("change",function(){r.noUiSlider.set([null,this.value])})),document.querySelector("form.power-calc")&&document.querySelectorAll("form.power-calc").forEach(function(e){var t,n,a,i=e.querySelector(".calc-power"),r=e.querySelector(".power"),o=e.querySelector(".power + label"),s=e.querySelector(".square"),c=e.querySelector(".height"),l=e.querySelector(".sun-light"),d=M.FormSelect.getInstance(l);function u(e,t){if(e.value)return function(e){e===l&&(d.input.classList.remove("invalid"),d.input.classList.add("valid"));return parseInt(e.value)}(e);e===l&&d.input.classList.add("invalid"),e.classList.add("invalid"),M.toast({html:t,classes:"toast-error"})}i.addEventListener("click",function(){t=u(s,"Вкажіть площу приміщення"),n=u(c,"Вкажіть висоту приміщення"),a=u(l,"Виберіть тип освітлення");var e=function(e,t,n){var a=e*t;switch(n){case 1:n=30;break;case 2:n=35;break;case 3:n=40}return a*n/1e3}(t,n,a);e=Math.ceil(10*e)/10,r.value=e,o.classList.add("active")})}),e&&(document.querySelectorAll(".works__item").forEach(function(e){e.classList.add("works__item_mobile")}),document.querySelectorAll(".card-product").forEach(function(e){e.classList.add("card-product_mobile")})),document.querySelector("#filter")&&(d=document.querySelector("#filter-btn"),u=document.querySelector("#sidebar__close-btn"),p=document.querySelector("#filter"),m=document.querySelector("#sidebar-overlay"),d.addEventListener("click",function(e){e.preventDefault(),y.classList.toggle("lock"),p.classList.toggle("active"),m.classList.toggle("active")}),u.addEventListener("click",function(e){y.classList.toggle("lock"),p.classList.toggle("active"),m.classList.toggle("active")}),m.addEventListener("click",function(e){y.classList.toggle("lock"),p.classList.toggle("active"),m.classList.toggle("active")})),document.querySelector(".products")&&(h=document.querySelectorAll(".card-product")).forEach(function(t){var n=f(t);n.column.style.height=t.clientHeight+30+"px",n.expandBtn.addEventListener("click",function(e){t.classList.toggle("opened"),n.moreBlock.clientHeight?n.moreBlock.style.height=0:n.moreBlock.style.height=n.wrapper.clientHeight+"px",h.forEach(function(e){e===t?(e.style.transition="unset",t.style.zIndex="2"):(e.classList.remove("opened"),f(e).moreBlock.style.height=0,e.style.transition="z-index .5s ease-out",e.style.zIndex="1")})})})});