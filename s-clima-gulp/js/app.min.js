"use strict";function r(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var e,t;e=function(e){var t,a;!0===e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp"),t=document.querySelectorAll(".ibg"),a=document.querySelector("body").classList.contains("webp"),t.forEach(function(e){e.querySelector("img")&&(e.style.backgroundImage=a?"url("+e.querySelector("source").getAttribute("srcset")+")":"url("+e.querySelector("img").getAttribute("src")+")")})},(t=new Image).onload=t.onerror=function(){e(2===t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var a=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"грн";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.products=e,this.currency=t}var e,t,o;return e=a,(t=[{key:"productCountChange",value:function(e,t){this.products[e].count=t}},{key:"productPlus",value:function(e){this.products[e].count?this.products[e].count++:this.products[e].count=1}},{key:"productMinus",value:function(e){this.products[e].count?2<=this.products[e].count&&this.products[e].count--:this.products[e].count=1}},{key:"productRemove",value:function(e){delete this.products[e]}},{key:"getTotal",value:function(){var e=0;for(var t in this.products)e+=(this.products[t].count||1)*this.products[t].price;return e}},{key:"buildRemoveBtn",value:function(e){var t=document.createElement("div");return t.classList.add("cart__remove"),t.setAttribute("data-id",e),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16px" fill="none" viewBox="0 0 17 17" id="remove-cart-item"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.5 9.914l-6.793 6.793-1.414-1.414L7.086 8.5.293 1.707 1.707.293 8.5 7.086 15.293.293l1.414 1.414L9.914 8.5l6.793 6.793-1.414 1.414L8.5 9.914z" fill="#D11586" fill-opacity=".5"></path></svg>',t}},{key:"buildCartItem",value:function(e,t,a){var o=document.createElement("div");o.classList.add("cart__item"),o.classList.add("cart__item_".concat(t)),o.classList.add("cart__row");var r=document.createElement("h6");r.classList.add("cart__name"),r.innerHTML=e.title;var i=document.createElement("div");i.classList.add("cart__photo"),i.dataset.da="cart__item_".concat(t,",1,576,min");var n=document.createElement("img");n.setAttribute("src",e.image),i.appendChild(n);var s=document.createElement("div");s.classList.add("cart__control");var c=document.createElement("div");c.classList.add("cart__minus"),c.setAttribute("data-id",a);var l=document.createElement("div");l.classList.add("input-field"),l.classList.add("inline");var d=document.createElement("input");d.classList.add("validate"),d.classList.add("count-product"),d.setAttribute("data-id",a),d.setAttribute("type","number"),d.setAttribute("step","1"),d.setAttribute("min","0"),d.value=e.count,l.appendChild(d);var u=document.createElement("div");u.classList.add("cart__plus"),u.setAttribute("data-id",a),s.appendChild(c),s.appendChild(l),s.appendChild(u);var p=document.createElement("div");p.classList.add("cart__price");var m=document.createElement("span");return m.innerHTML=e.price*e.count+" "+this.currency,p.appendChild(m),o.appendChild(this.buildRemoveBtn(a)),o.appendChild(r),o.appendChild(i),o.appendChild(s),o.appendChild(p),o}},{key:"buildTotal",value:function(){var e=document.createElement("div");e.classList.add("cart__total");var t=document.createElement("span");return t.innerHTML="Разом: ".concat(this.getTotal()," ").concat(this.currency),e.appendChild(t),e}},{key:"render",value:function(){var e=document.createElement("div");if(e.classList.add("cart__content"),0===Object.keys(this.products).length&&this.products.constructor===Object){var t=document.createElement("span");return t.classList.add("cart__empty"),t.innerHTML="В корзині немає товарів!",e.appendChild(t),e}var a=0;for(var o in this.products){var r=this.products[o];a++;var i=this.buildCartItem(r,a,o);e.appendChild(i)}return e}}])&&r(e.prototype,t),o&&r(e,o),a}();$("#phone").mask("+38 (999) 999-99-99"),$.validator.addMethod("customphone",function(e,t){return this.optional(t)||/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/.test(e)},"Please enter a valid phone number"),$("#order-form").validate({rules:{cartOrderName:{required:!0},cartOrderPhone:{required:!0,customphone:!0},cartOrderMessage:{}},messages:{cartOrderName:{required:"Це обов'язкове поле"},cartOrderPhone:{required:"Це обов'язкове поле",customphone:"Невірний номер телефону"}},submitHandler:function(e){var t=JSON.parse(localStorage.getItem("cart")),a=$(e).serializeArray();console.log(a,t),e.reset(),f.products={},g=f.products,y(),L(),M.Modal.getInstance($("#cart")).close()}});var o=document.querySelectorAll("select"),i=(M.FormSelect.init(o),document.querySelectorAll(".modal")),n=(M.Modal.init(i,{dismissible:!0,opacity:.4,startingTop:"-10%",endingTop:"5%",inDuration:350,outDuration:350}),document.querySelector(".burger-menu")),S=document.querySelector("body"),s=document.querySelector(".menu-main");function c(e,t,a){e.classList.contains("closed")?(e.classList.remove("closed"),t.style.maxHeight=a+"px"):(e.classList.add("closed"),t.style.maxHeight="0px")}null!=n&&n.addEventListener("click",function(){n.classList.toggle("active"),s.classList.toggle("active"),S.classList.toggle("lock")});var l=document.querySelectorAll(".menu-main ul li a:not(:only-child)");function d(){var e=document.querySelector(".header-main");50<pageYOffset?e.classList.contains("header-main_scroll")||e.classList.add("header-main_scroll"):e.classList.contains("header-main_scroll")&&e.classList.remove("header-main_scroll")}l.forEach(function(e){var t=e.parentElement.querySelector("ul"),a=t.clientHeight,o=e.parentElement;o.classList.add("has-submenu"),c(o,t,a),e.addEventListener("click",function(e){e.preventDefault(),c(o,t,a)})}),window.addEventListener("scroll",function(e){d(),80<pageYOffset?l.forEach(function(e){e.parentElement.querySelector("ul").classList.add("change-bg")}):l.forEach(function(e){e.parentElement.querySelector("ul").classList.remove("change-bg")})}),d();var u,p;new SmoothScroll('a[href*="#"]',{header:"[data-scroll-header]",speed:500,topOnEmptyHash:!0,clip:!0,easing:"easeInOutCubic",updateURL:!0,popstate:!0});document.querySelector(".parallax-main")&&(u=document.querySelector(".parallax-main"),p=u.querySelectorAll(".parallax-main__layer"),u.addEventListener("mousemove",function(a){p.forEach(function(e){var t=e.getAttribute("data-speed");e.style.transform="translate(".concat(a.clientX*t/1e3,"px, ").concat(a.clientY*t/1300,"px )")})})),document.querySelectorAll(".parallax")&&document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".parallax");M.Parallax.init(e)}),$(document).ready(function(){$(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Завантаження фото #%curr%...",mainClass:"mfp-fade",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'},removalDelay:300,callbacks:{elementParse:function(e){e.el.hasClass("video")?e.type="iframe":e.type="image"}}})}),$(document).ready(function(){$(".slider-comments").slick({arrows:!0,dots:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{}},{breakpoint:768,settings:{}},{breakpoint:576,settings:{}}]}),$(".slider-banners").slick({arrows:!0,dots:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{}},{breakpoint:768,settings:{}},{breakpoint:576,settings:{}}]}),$(".slider-works").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:3,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}},{breakpoint:576,settings:{slidesToShow:1}}]}),$(".slider-articles").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:3,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}},{breakpoint:576,settings:{slidesToShow:1}}]}).on("setPosition",function(){$(this).find(".slick-slide").height("auto");var e=$(this).find(".slick-track"),t=$(e).height();$(this).find(".slick-slide").css("height",t+"px")}),$(".slider-achive").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:4,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!0,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:1}}]}).on("setPosition",function(){$(this).find(".slick-slide").height("auto");var e=$(this).find(".slick-track"),t=$(e).height();$(this).find(".slick-slide").css("height",t+"px")}),$(".slider-partners").slick({arrows:!0,dots:!1,adaptiveHeight:!1,slidesToShow:6,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:5}},{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]}),$(".slider-card-product").slick({arrows:!1,dots:!1,adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,speed:500,easing:"ease",infinite:!0,initialSlide:1,autoplay:!1,autoplaySpeed:3500,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchThreshold:5,touchMove:!0,waitForAnimate:!0,centerMode:!1,variableWidth:!1,lazyLoad:"ondemand"})});var m=document.querySelector(".cart__out"),h=document.querySelector(".header-main__cart span"),g={},v=document.querySelector("#order-form"),f=new a(g=JSON.parse(localStorage.getItem("cart"))||{});function y(){localStorage.setItem("cart",JSON.stringify(g))}function L(){m.innerHTML="",m.append(f.render()),m.append(f.buildTotal()),v.style.display="block",v.reset(),h.innerHTML=Object.keys(f.products).length,h.classList.add("active"),0===Object.keys(f.products).length&&f.products.constructor===Object&&(v.style.display="none",h.innerHTML="",h.classList.remove("active"))}L();var b=document.querySelector(".products");b&&b.addEventListener("click",function(e){e.target.closest(".cart-product")&&(function(e){var t=e.querySelector(".cart-product").getAttribute("data-id"),a=e.querySelector(".card-product__title").innerHTML,o=e.querySelector("a").getAttribute("href"),r=parseInt(e.querySelector(".card-product__price").innerHTML);g[t]?g[t].count++:g[t]={title:a,image:o,price:r,count:1};y(),L()}(e.target.closest(".cart-product").closest(".card-product")),M.toast({html:"Товар додано в корзину"}))}),m.addEventListener("click",function(e){e.target.closest(".cart__remove")&&(f.productRemove(e.target.closest(".cart__remove").dataset.id),g=f.products,y(),L()),e.target.classList.contains("cart__plus")&&(f.productPlus(e.target.dataset.id),g=f.products,y(),L()),e.target.classList.contains("cart__minus")&&(f.productMinus(e.target.dataset.id),g=f.products,y(),L())}),m.addEventListener("change",function(e){e.target.classList.contains("count-product")&&(f.productCountChange(e.target.dataset.id,e.target.value),g=f.products,y(),L())});document.addEventListener("DOMContentLoaded",function(){var e="ontouchstart"in window||navigator.msMaxTouchPoints;console.log(e);var t,a=document.querySelectorAll(".anim-item");0<a.length&&(t=function(){a.forEach(function(e){var t,a,o=e.offsetHeight,r=(t=e.getBoundingClientRect(),window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop,[t.top+a,t.left][0]),i=o>window.innerHeight?window.innerHeight-window.innerHeight/4:window.innerHeight-o/4,n=getComputedStyle(e),s=new WebKitCSSMatrix(n.webkitTransform).m42;0!==s&&(r+=-s),pageYOffset>r-i&&pageYOffset<r+o?e.classList.add("active"):e.classList.contains("anim-no-hide")||e.classList.remove("active")})},window.addEventListener("scroll",t),setTimeout(function(){t()},300));var o,r,i,n,s,c,l,d,u,p,m=document.createElement("span"),h='<a href="#">S-Clima</a> © 2019 - '.concat((new Date).getFullYear(),"р.");function g(e){return{moreBlock:e.querySelector(".card-product__rest"),expandBtn:e.querySelector(".card-product__more"),wrapper:e.querySelector(".card-product__wrapper"),column:e.parentElement.parentElement}}m.innerHTML=h,$(".copyright__main").append(m),$(".copyright__develop").append('Розроблено студією <a target="_blank" href="https://dwave.space/"> d-wave </a>'),document.getElementById("price-range")&&(o=document.getElementById("price-range"),noUiSlider.create(o,{start:[20,80],connect:!0,step:1,range:{min:0,max:100},format:wNumb({decimals:0})}),r=document.getElementById("price-from"),i=document.querySelector("#price-from + label"),n=document.getElementById("price-to"),s=document.querySelector("#price-to + label"),o.noUiSlider.on("update",function(e,t){var a=e[t];t?(n.value=a,s.classList.add("active")):(r.value=a,i.classList.add("active"))}),n.addEventListener("change",function(){o.noUiSlider.set([null,this.value])})),document.querySelector("form.power-calc")&&document.querySelectorAll("form.power-calc").forEach(function(e){var t,a,o,r=e.querySelector(".calc-power"),i=e.querySelector(".power"),n=e.querySelector(".power + label"),s=e.querySelector(".square"),c=e.querySelector(".height"),l=e.querySelector(".sun-light"),d=M.FormSelect.getInstance(l);function u(e,t){if(e.value)return function(e){e===l&&(d.input.classList.remove("invalid"),d.input.classList.add("valid"));return parseInt(e.value)}(e);e===l&&d.input.classList.add("invalid"),e.classList.add("invalid"),M.toast({html:t,classes:"toast-error"})}r.addEventListener("click",function(){t=u(s,"Вкажіть площу приміщення"),a=u(c,"Вкажіть висоту приміщення"),o=u(l,"Виберіть тип освітлення");var e=function(e,t,a){var o=e*t;switch(a){case 1:a=30;break;case 2:a=35;break;case 3:a=40}return o*a/1e3}(t,a,o);e=Math.ceil(10*e)/10,i.value=e,n.classList.add("active")})}),e&&(document.querySelectorAll(".works__item").forEach(function(e){e.classList.add("works__item_mobile")}),document.querySelectorAll(".card-product").forEach(function(e){e.classList.add("card-product_mobile")})),document.querySelector(".sidebar")&&(c=document.querySelector(".sidebar-btn"),l=document.querySelector(".sidebar__close-btn"),d=document.querySelector(".sidebar"),u=document.querySelector(".sidebar-overlay"),c.addEventListener("click",function(e){e.preventDefault(),S.classList.toggle("lock"),d.classList.toggle("active"),u.classList.toggle("active")}),l.addEventListener("click",function(e){S.classList.toggle("lock"),d.classList.toggle("active"),u.classList.toggle("active")}),u.addEventListener("click",function(e){S.classList.toggle("lock"),d.classList.toggle("active"),u.classList.toggle("active")})),document.querySelector(".products")&&(p=document.querySelectorAll(".card-product")).forEach(function(t){var a=g(t);a.column.style.height=t.clientHeight+30+"px",a.expandBtn.addEventListener("click",function(e){t.classList.toggle("opened"),a.moreBlock.clientHeight?a.moreBlock.style.height=0:a.moreBlock.style.height=a.wrapper.clientHeight+"px",p.forEach(function(e){e===t?(e.style.transition="unset",t.style.zIndex="2"):(e.classList.remove("opened"),g(e).moreBlock.style.height=0,e.style.transition="z-index .5s ease-out",e.style.zIndex="1")})})}),$(".project-list ul ul").each(function(e){0!=e?$(this).slideToggle(0):$(this).prev().toggleClass("open")}),$(".project-list__item").click(function(){$(this).toggleClass("open"),$(this).next().slideToggle(300)}),$(".project-list a").each(function(e){0===e&&$(this).addClass("active")}),$(".project-list a").on("click",function(e){e.preventDefault(),$(".project-list a").removeClass(),$(this).addClass("active")});var v,f=document.querySelectorAll(".gallery-work__item a"),y=document.querySelector(".work__sort");f.length&&(v=y.querySelectorAll("a"),y.addEventListener("click",function(e){if("A"!==e.target.tagName)return!1;e.preventDefault();var t=e.target.dataset.filter;v.forEach(function(e){e.dataset.filter===t?e.classList.add("active"):e.classList.remove("active")}),f.forEach(function(e){e.parentElement.parentElement.classList.remove("hide-project"),e.classList.contains(t)||"all"===t||e.parentElement.parentElement.classList.add("hide-project")})}))});